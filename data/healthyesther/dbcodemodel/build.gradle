apply plugin: 'java'

dependencies {
    compile fileTree(dir: 'libs', include: ['*.jar'])
    compile 'com.sun.codemodel:codemodel:2.6'
    compile 'com.google.code.gson:gson:2.3.1'
}

task(sqlite2Java, type: JavaExec, dependsOn: assemble) {
    classpath = ((Task)getTasksByName('jar', false).toArray()[0]).getOutputs().files
    args = [
            getRootDir().absolutePath + "/db_definition",
            getRootDir().absolutePath + "/app/src/main/java",
            "com.robwilliamson.healthyesther.db.generated"
    ]
    main = 'com.robwilliamson.healthyesther.Main'
}
